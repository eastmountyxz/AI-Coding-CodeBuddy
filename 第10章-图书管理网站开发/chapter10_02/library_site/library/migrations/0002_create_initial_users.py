# Generated by Django 3.2.25 on 2025-12-16 00:15

from django.db import migrations


def create_initial_users(apps, schema_editor):
    from django.contrib.auth.hashers import make_password
    User = apps.get_model('library', 'User')
    
    users = [
        {
            'username': 'admin',
            'password': make_password('123456'),
            'email': 'admin@example.com',
            'phone': '13800138000',
            'address': '北京市海淀区',
            'is_staff': True,
            'is_superuser': True,
        },
        {
            'username': 'user1',
            'password': make_password('111111'),
            'email': 'user1@example.com',
            'phone': '13800138001',
            'address': '上海市浦东新区',
            'is_staff': False,
            'is_superuser': False,
        },
        {
            'username': 'user2',
            'password': make_password('222222'),
            'email': 'user2@example.com',
            'phone': '13800138002',
            'address': '广州市天河区',
            'is_staff': False,
            'is_superuser': False,
        }
    ]
    
    for user_data in users:
        User.objects.create(**user_data)


class Migration(migrations.Migration):

    dependencies = [
        ('library', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(create_initial_users),
    ]
